<template name="planBoard">
    {{#with project}}
    <div class="page-header">
        <h1>{{gitlab.name}} - Plan your work</h1>
        <input type="hidden" id="projectId" ref={{_id}}>
    </div>
    {{/with}} {{> addIssueTmpl}} {{> planBoardSprints}}
</template>


<template name="planBoardAssignees">
    {{#each assignees}}
    <option value={{_id}}>{{username}}</option>
    {{/each}}
</template>

<template name="planBoardSprints">
    <div id="sprints" class=".col-md-6">{{> planBoardSprintsList}}</div>
    <div id="backlog" class=".col-md-6 list-group" ref="0">
    
        
        {{> issuesListTmpl issues}}
        
        {{#each issues}}
        {{> issueItemTmpl}}
        {{/each}}
        <p id="backlogFooter">{{issuesStats}}</p>
    </div>
</template>


<template name="planBoardSprintsList">
    {{#each sprints}}
    <div class="sprint" id={{_id}} ref={{time}}>
        <div class="sprintInfo"><b>{{name}}</b> End date: {{endDate}} Status: {{status}}
            <div class="sprintTimeMarker">{{time}}</div>
        </div>
        <button type="button" class="startButton" id={{_id}}>Start
        </button>
        <button type="button" class="stopButton" id={{_id}}>Stop
        </button>
        {{#each assignedItems _id}}
        
        
        {{> issueItemTmpl}}
       <!-- <div class="story" id={{_id}} ref={{sprint}} objectType="issue">
            <p class="storyTitle" ref="title" data-type="text">{{gitlab.title}}</p>
            <p class="storyType" ref="state" data-type="text">{{gitlab.state}}</p>
            <p class="storyText" ref="description" data-type="textarea">{{gitlab.description}}</p>
            <p class="storyHours" ref="estimation" data-type="text" data-placeholder="estimation">{{estimation}}</p>
            <p class="storyAssignee" ref="gitlab.assignee.username" data-type="text">Assigned to: {{gitlab.assignee.username}}</p>
        </div>-->
        {{/each}}
        <p class="sprintsFooter">{{sprintsStats _id}}</p>
    </div>
    {{/each}} {{> planBoardSprintsInput}}
</template>


<template name="planBoardSprintsInput">
    <details id="addSprint">
        <summary>New sprint</summary>
        <input type="text" id="name" style="width: 98%; margin: 1%;" placeholder="Sprint title" />
        <input type="text" id="datepicker" style="width: 66%; margin: 1%;" placeholder="End date" />
        <input type="button" class="insert" style="width: 29%; margin: 1%;" value="Add" />
    </details>
</template>